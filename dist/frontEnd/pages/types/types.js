angular.module("type",[]).controller("typeCtrl",["$scope","$routeParams","$http",function(t,e,a){t.getDate=function(t){t=Number(t);var e=new Date(t);return e.getFullYear()+"-"+e.getMonth()+"-"+e.getDate()},e.type=e.type||"资讯新闻",t.leixin=e.type,a({url:"http://127.0.0.1:9090/api/webgetkeynews",params:{category:e.type,page:1}}).then(function(e){e.data.forEach(function(e,a){e.chuo=e.date,e.imgArr=e.imgArr.match(/[a-zA-z]+:[^\s]*\.jpg/),e.date=t.getDate(e.date)}),t.data=e.data}).catch(function(t){console.log(t)})}]);